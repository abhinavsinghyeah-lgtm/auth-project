<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RYVEN • Premium SaaS Control</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <link href="https://cdn.jsdelivr.net/npm/quill@2/dist/quill.snow.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/quill@2/dist/quill.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root {
      --bg-primary: #f8fafc;
      --bg-secondary: #ffffff;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --accent: #3b82f6;
      --accent-dark: #2563eb;
      --border: #e2e8f0;
      --danger: #ef4444;
      --success: #10b981;
    }
    [data-theme="dark"] {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --accent: #60a5fa;
      --accent-dark: #3b82f6;
      --border: #334155;
      --danger: #f87171;
      --success: #34d399;
    }
    [data-theme="blue"] {
      --bg-primary: #0c4a6e;
      --bg-secondary: #164e63;
      --text-primary: #e0f2fe;
      --text-secondary: #bae6fd;
      --accent: #38bdf8;
      --accent-dark: #0ea5e9;
      --border: #075985;
      --danger: #fca5a5;
      --success: #6ee7b7;
    }
    body {
      background: var(--bg-primary);
      color: var(--text-primary);
      font-family: 'Inter', system-ui, sans-serif;
    }
    .card {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 1rem;
      box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05), 0 2px 4px -1px rgba(0,0,0,0.03);
    }
    .sidebar {
      background: var(--bg-secondary);
      border-right: 1px solid var(--border);
    }
    .low-stock {
      background-color: rgba(239, 68, 68, 0.1);
      border-left: 4px solid var(--danger);
    }
  </style>
</head>
<body data-theme="light" class="min-h-screen antialiased">

  <!-- Mobile menu button -->
  <button id="mobile-menu-btn" class="lg:hidden fixed top-4 left-5 z-50 bg-[var(--accent)] text-white p-3 rounded-full shadow-lg focus:outline-none">
    <i class="fas fa-bars text-lg"></i>
  </button>

  <div class="flex">

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar fixed inset-y-0 left-0 z-40 w-72 -translate-x-full lg:translate-x-0 transition-transform duration-300 lg:relative overflow-y-auto shadow-xl">
      <div class="p-6">
        <div class="flex items-center justify-between mb-10">
          <h1 class="text-2xl font-bold tracking-tight text-[var(--text-primary)]">RYVEN</h1>
          <button id="close-sidebar" class="lg:hidden text-[var(--text-secondary)] hover:text-[var(--text-primary)]">
            <i class="fas fa-times text-2xl"></i>
          </button>
        </div>

        <nav class="space-y-1.5">
          <button onclick="showSection('overview')" class="w-full flex items-center px-4 py-3 rounded-xl hover:bg-[var(--accent)]/10 transition text-left active">
            <i class="fas fa-home w-6 text-center"></i>
            <span class="ml-3 font-medium">Overview</span>
          </button>
          <button onclick="showSection('finance')" class="w-full flex items-center px-4 py-3 rounded-xl hover:bg-[var(--accent)]/10 transition text-left">
            <i class="fas fa-wallet w-6 text-center"></i>
            <span class="ml-3 font-medium">Finance</span>
          </button>
          <button onclick="showSection('users')" class="w-full flex items-center px-4 py-3 rounded-xl hover:bg-[var(--accent)]/10 transition text-left">
            <i class="fas fa-users w-6 text-center"></i>
            <span class="ml-3 font-medium">Users</span>
          </button>
          <button onclick="showSection('suppliers')" class="w-full flex items-center px-4 py-3 rounded-xl hover:bg-[var(--accent)]/10 transition text-left">
            <i class="fas fa-truck w-6 text-center"></i>
            <span class="ml-3 font-medium">Suppliers</span>
          </button>
          <button onclick="showSection('inventory')" class="w-full flex items-center px-4 py-3 rounded-xl hover:bg-[var(--accent)]/10 transition text-left">
            <i class="fas fa-boxes-stacked w-6 text-center"></i>
            <span class="ml-3 font-medium">Inventory</span>
          </button>
          <button onclick="showSection('schedule')" class="w-full flex items-center px-4 py-3 rounded-xl hover:bg-[var(--accent)]/10 transition text-left">
            <i class="fas fa-calendar-days w-6 text-center"></i>
            <span class="ml-3 font-medium">Schedule</span>
          </button>
          <button onclick="showSection('notes')" class="w-full flex items-center px-4 py-3 rounded-xl hover:bg-[var(--accent)]/10 transition text-left">
            <i class="fas fa-note-sticky w-6 text-center"></i>
            <span class="ml-3 font-medium">Notes</span>
          </button>
          <button onclick="showSection('settings')" class="w-full flex items-center px-4 py-3 rounded-xl hover:bg-[var(--accent)]/10 transition text-left">
            <i class="fas fa-gear w-6 text-center"></i>
            <span class="ml-3 font-medium">Settings</span>
          </button>
        </nav>

        <div class="mt-12">
          <button onclick="logout()" class="w-full flex items-center justify-center py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition shadow-md">
            <i class="fas fa-sign-out-alt mr-2"></i> Logout
          </button>
        </div>
      </div>
    </aside>

    <!-- Overlay (mobile) -->
    <div id="overlay" class="fixed inset-0 bg-black/50 z-30 hidden lg:hidden"></div>

    <!-- Main Content -->
    <main class="flex-1 p-6 lg:p-10">

      <header class="flex justify-between items-center mb-10">
        <h1 id="page-title" class="text-3xl font-bold text-[var(--text-primary)]">Overview</h1>
      </header>

      <!-- Overview -->
      <section id="overview" class="space-y-8">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="card p-6">
            <p class="text-sm text-[var(--text-secondary)]">Total Revenue</p>
            <p id="total-revenue" class="text-3xl font-bold mt-1">₹0</p>
          </div>
          <div class="card p-6">
            <p class="text-sm text-[var(--text-secondary)]">Total Expenses</p>
            <p id="total-expenses" class="text-3xl font-bold mt-1">₹0</p>
          </div>
          <div class="card p-6">
            <p class="text-sm text-[var(--text-secondary)]">Net Profit</p>
            <p id="net-profit" class="text-3xl font-bold mt-1">₹0</p>
          </div>
          <div class="card p-6">
            <p class="text-sm text-[var(--text-secondary)]">Active Users</p>
            <p id="active-users" class="text-3xl font-bold mt-1">0</p>
          </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div class="card p-6">
            <h3 class="font-semibold mb-4">Revenue Trend</h3>
            <div id="revenue-chart" class="h-72"></div>
          </div>
          <div class="card p-6">
            <h3 class="font-semibold mb-4">Profit Trend</h3>
            <div id="profit-chart" class="h-72"></div>
          </div>
        </div>

        <div class="card p-6">
          <h3 class="font-semibold mb-4">Next 7 Days Schedule</h3>
          <div id="next-7-schedule" class="grid grid-cols-1 md:grid-cols-7 gap-4"></div>
        </div>

        <div id="low-stock-alert" class="card p-6 bg-red-50 border-red-200 hidden">
          <h3 class="font-semibold text-red-800">Low Stock Alert</h3>
          <p id="low-stock-items" class="mt-2 text-red-700"></p>
        </div>
      </section>

      <!-- Finance -->
      <section id="finance" class="hidden space-y-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div class="card p-6">
            <h3 class="font-semibold mb-4">Revenue Over Time</h3>
            <div id="finance-revenue-chart" class="h-80"></div>
          </div>
          <div class="card p-6">
            <h3 class="font-semibold mb-4">Profit Over Time</h3>
            <div id="finance-profit-chart" class="h-80"></div>
          </div>
        </div>

        <div class="card p-6">
          <form id="finance-form" class="grid grid-cols-1 md:grid-cols-6 gap-4 mb-6">
            <select name="type" class="border rounded-lg px-3 py-2">
              <option value="expense">Expense</option>
              <option value="sale">Sale</option>
            </select>
            <input name="amount" type="number" placeholder="Amount" class="border rounded-lg px-3 py-2" required min="0"/>
            <input name="date" type="date" class="border rounded-lg px-3 py-2" required/>
            <input name="remark" placeholder="Remark" class="border rounded-lg px-3 py-2"/>
            <select name="category" class="border rounded-lg px-3 py-2">
              <option>Marketing</option><option>Supplies</option><option>Salary</option><option>Rent</option><option>Other</option>
            </select>
            <button type="submit" class="bg-[var(--accent)] hover:bg-[var(--accent-dark)] text-white py-2 rounded-lg transition">Add</button>
          </form>

          <input id="finance-search" placeholder="Search..." class="w-full border rounded-lg px-4 py-2 mb-4"/>
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead><tr class="bg-gray-100 dark:bg-gray-800">
                <th class="p-3 text-left">Type</th>
                <th class="p-3 text-left">Amount</th>
                <th class="p-3 text-left">Date</th>
                <th class="p-3 text-left">Category</th>
                <th class="p-3 text-left">Remark</th>
                <th class="p-3 text-right">Actions</th>
              </tr></thead>
              <tbody id="finance-table"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Inventory -->
      <section id="inventory" class="hidden space-y-8">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="card p-6">
            <p class="text-sm text-[var(--text-secondary)]">Total Products</p>
            <p id="total-products" class="text-3xl font-bold mt-1">0</p>
          </div>
          <div class="card p-6">
            <p class="text-sm text-[var(--text-secondary)]">Total Stock</p>
            <p id="total-stock" class="text-3xl font-bold mt-1">0</p>
          </div>
          <div class="card p-6">
            <p class="text-sm text-[var(--text-secondary)]">Inventory Value</p>
            <p id="inventory-value" class="text-3xl font-bold mt-1">₹0</p>
          </div>
          <div class="card p-6">
            <p class="text-sm text-[var(--text-secondary)]">Potential Profit</p>
            <p id="total-profit" class="text-3xl font-bold mt-1">₹0</p>
          </div>
        </div>

        <div class="card p-6">
          <h3 class="font-semibold mb-4">Add Product</h3>
          <form id="inventory-form" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4">
            <input name="name" placeholder="Product Name" class="border rounded-lg px-3 py-2" required/>
            <input name="stock" type="number" placeholder="Stock" class="border rounded-lg px-3 py-2" required min="0"/>
            <input name="cost" type="number" step="0.01" placeholder="Cost ₹" class="border rounded-lg px-3 py-2" required min="0"/>
            <input name="sellPrice" type="number" step="0.01" placeholder="Sell ₹" class="border rounded-lg px-3 py-2" required min="0"/>
            <input name="margin" type="number" step="0.1" placeholder="Margin %" readonly class="border rounded-lg px-3 py-2 bg-gray-100"/>
            <button type="submit" class="bg-[var(--accent)] hover:bg-[var(--accent-dark)] text-white py-2 rounded-lg">Add Product</button>
          </form>
        </div>

        <div class="card p-6">
          <input id="inventory-search" placeholder="Search products..." class="w-full border rounded-lg px-4 py-2 mb-4"/>
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead><tr class="bg-gray-100 dark:bg-gray-800">
                <th class="p-3 text-left">Name</th>
                <th class="p-3 text-left">Stock</th>
                <th class="p-3 text-left">Cost</th>
                <th class="p-3 text-left">Sell</th>
                <th class="p-3 text-left">Margin</th>
                <th class="p-3 text-left">Profit/Unit</th>
                <th class="p-3 text-right">Actions</th>
              </tr></thead>
              <tbody id="inventory-table"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Settings -->
      <section id="settings" class="hidden space-y-8">
        <div class="card p-6">
          <h2 class="text-xl font-bold mb-6">Appearance</h2>
          <div class="space-y-4">
            <label class="block">
              <span class="text-sm font-medium">Theme</span>
              <select id="theme-select" class="mt-1 block w-full border rounded-lg px-3 py-2">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
                <option value="blue">Blue</option>
              </select>
            </label>
            <button onclick="saveTheme()" class="bg-[var(--accent)] hover:bg-[var(--accent-dark)] text-white px-6 py-2 rounded-lg">Save Theme</button>
          </div>
        </div>
      </section>

      <!-- Toast -->
      <div id="toast" class="fixed bottom-8 right-8 hidden px-6 py-3 rounded-lg shadow-2xl text-white font-medium transform translate-y-10 transition-all duration-300 z-50"></div>

    </main>
  </div>

  <script src="/app.js"></script>
</body>
</html>